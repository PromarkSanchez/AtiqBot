# requirements.in
# Lista de dependencias del proyecto, limpia y sin duplicados.

# --- Servidor Web y Producción ---
fastapi
uvicorn[standard]       # Servidor ASGI para desarrollo y pruebas.
gunicorn                # Servidor de producción para despliegue en Render.

# --- Base de Datos ---
sqlalchemy[asyncpg]     # ORM. El extra [asyncpg] incluye el driver asíncrono.
alembic                 # Para migraciones de base de datos.
psycopg[binary]         # Driver principal y moderno para PostgreSQL.
# psycopg2-binary       # Comentado: psycopg (v3) es el sucesor. Generalmente no necesitas ambos.
                        # Descoméntalo solo si una librería vieja lo requiere explícitamente.

# --- Caché ---
fastapi-cache2[redis]   # Sistema de caché para FastAPI, con backend de Redis.
redis                   # Cliente de Python para Redis.

# --- Autenticación y Seguridad ---
python-multipart        # Necesario para la subida de archivos y formularios en FastAPI.
bcrypt==3.2.0           # Versión fijada por compatibilidad con passlib.
passlib[bcrypt]         # Librería para hashing de contraseñas.
python-jose[cryptography] # Para manejar tokens JWT.
ldap3                   # Para autenticación con LDAP.
pyotp                   # Para contraseñas de un solo uso (MFA/2FA).

# --- Lógica de IA (LangChain y otros) ---
langchain>=0.1.0,<0.2.0  # Core de LangChain, fijado a la versión 0.1.x.
langchain-community
langchain-aws
langchain-postgres
langchain-openai
langchain-google-genai
langchain-text-splitters
langsmith
sentence-transformers   # Para generar embeddings.
openai

# --- Procesamiento de Documentos ---
unstructured            # Para extraer texto de varios tipos de archivos.
pypdf
python-docx
docx2txt

# --- Utilidades y Otros ---
pydantic[email]         # Incluye validación de emails. No necesitas "pydantic" aparte.
pydantic-settings
python-dotenv           # Para cargar variables de entorno desde archivos .env.
requests
qrcode